{{ assign 'homeText' (t 'common.home') }}
{{ assign 'title' (get 'title' blogs) }}
{{ assign 'total' (default (get 'blogs.total' blogs) 0) }}
{{ assign 'pageNum' (default (get 'blogs.pageNum' blogs) 0) }}
{{ assign 'pageSize' (default (get 'blogs.pageSize' blogs) 12) }}
{{ assign 'blogs' (default (get 'blogs.list' blogs) (JSONparse '[]')) }}


{{#if (length blogs) '>' 0}}
  {{#if section.settings.is_show_breadcrumb}}
    {{ assign 'routes' (JSONparse (append '[{"name":"' homeText '","link":"/"}]')) }}
    {{ array-push routes (object_create name=title) }}

    {{ snippet 'blogs/breadcrumb' classes='blogs__breadcrumb d-none d-md-flex' routes=routes }}
  {{/if}}
    
  <h1 class="blogs__title title3">{{ title }}</h1>

  {{#with this as |global|}}
    <div class="blogs__list-wrapper">
      <ul class="blogs__list blogs__list--{{ global.section.settings.layout }}">
        {{#each blogs}}
          <li class="blogs__item">
            {{
              snippet 'blogs/simple-blog'
              info=this
              showAuthor=global.section.settings.is_show_author
              showDate=global.section.settings.is_show_date
              showCover=global.section.settings.is_show_cover
            }}
          </li>
        {{/each}}
      </ul>
    </div>
  {{/with}}

  {{ snippet 'product/commons/pagination' mode='href' id="blogs-pagination" wrapperClass='blogs__pagination' total=total pageSize=pageSize current=pageNum request=request }}
{{else}}
  <div class="blogs__empty">
    <h2 class="blogs__empty-title title3">{{ t 'blogList.container.empty.title' }}</h2>
    <p class="blogs__empty-desc body3">{{ t 'blogList.container.empty.desc' }}</p>
  </div>
{{/if}}

{{#schema}}
{
  "name": {
    "zh-hans-cn": "博客集合",
    "en": "Blogs",
    "id": "Koleksi blog",
    "th": "คอลเลกชั่นบล็อก",
    "vi": "Bộ sưu tập blog",
    "ms": "Koleksi blog",
    "zh-hant-tw": "博客集合"
  },
  "settings": [
    {
      "type": "select",
      "id": "layout",
      "default": "grid",
      "label": {
        "zh-hans-cn": "布局",
        "en": "Layout",
        "id": "tata letak",
        "th": "เลย์เอาต์",
        "vi": "Bố cục",
        "ms": "susun atur",
        "zh-hant-tw": "佈局"
      },
      "options": [
        {
          "label": {
            "zh-hans-cn": "网格",
            "en": "Grid",
            "id": "kisi-kisi",
            "th": "ตะแกรง",
            "vi": "Lưới",
            "ms": "Grid",
            "zh-hant-tw": "網格"
          },
          "value": "grid"
        },
        {
          "label": {
            "zh-hans-cn": "列表",
            "en": "List",
            "id": "Daftar",
            "th": "รายการ",
            "vi": "Xếp hàng",
            "ms": "Senarai",
            "zh-hant-tw": "列表"
          },
          "value": "list"
        }
      ]
    },
    {
      "type": "switch",
      "id": "is_show_author",
      "default": true,
      "label": {
        "zh-hans-cn": "显示作者",
        "en": "Display author",
        "id": "Tampilkan Penulis",
        "th": "แสดงผู้เขียน",
        "vi": "Hiển thị tác giả",
        "ms": "Tunjuk pengarang",
        "zh-hant-tw": "顯示作者"
      }
    },
    {
      "type": "switch",
      "id": "is_show_date",
      "default": true,
      "label": {
        "zh-hans-cn": "显示日期",
        "en": "Display date",
        "id": "Tampilkan Tanggal",
        "th": "แสดงวันที่",
        "vi": "Hiển thị ngày tháng",
        "ms": "Tunjuk Tarikh",
        "zh-hant-tw": "顯示日期"
      }
    },
    {
      "type": "switch",
      "id": "is_show_cover",
      "default": true,
      "label": {
        "zh-hans-cn": "显示封面图",
        "en": "Display cover",
        "id": "Tampilkan Gambar Sampul",
        "th": "แสดงภาพหน้าปก",
        "vi": "HIển thị hình nền",
        "ms": "Tunjuk imej muka depan",
        "zh-hant-tw": "顯示封面圖"
      }
    },
    {
      "type": "switch",
      "id": "is_show_breadcrumb",
      "default": true,
      "label": {
        "zh-hans-cn": "显示面包屑",
        "en": "Display breadcrumb",
        "id": "Tampilkan Breadcrumb",
        "th": "แสดงเมนูที่ใช้นำทางในเว็บไซ",
        "vi": "HIển thị vị trí",
        "ms": "Tunjuk面包屑",
        "zh-hant-tw": "顯示麵包屑"
      }
    }
  ],
  "default": {
    "settings": {
      "layout": "grid",
      "is_show_author": true,
      "is_show_date": true,
      "is_show_cover": true,
      "is_show_breadcrumb": true
    }
  }
}
{{/schema}}