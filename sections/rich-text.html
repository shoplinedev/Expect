{{assign 'title' section.settings.title }}
{{assign 'main_text' section.settings.main_text }}
{{assign 'button_text' section.settings.button_text }}
{{assign 'jump_link' section.settings.jump_link}}
{{assign 'normal_width' section.settings.normal_width}}
{{assign 'big_fontsize' section.settings.big_fontsize}}
{{assign 'show_divider' section.settings.show_divider}}
{{assign 'text_align' section.settings.text_align }}
{{assign 'color_scheme' section.settings.color_scheme }}

{{assign 'blocks' section.blocks}}
{{assign 'blocks' (product_blocks_order_translate section 'blocks' 'block_order')}}

{{#if normal_width }}
  {{assign 'textwidthClass' 'richtext__normalwidth'}}
{{else}}
  {{assign 'textwidthClass' 'richtext__smallwidth'}}
{{/if}}

{{#if big_fontsize }}
  {{assign 'contentFontSize' 'body1'}}
{{else}}
  {{assign 'contentFontSize' 'body3'}}
{{/if}}

{{#if (boolean (isTruthy title) '||' (boolean (isTruthy main_text)) '||' (boolean (length blocks) '!=' 0 ))}}
  <div class="{{#if show_divider}}section--divider{{/if}} color-scheme-{{color_scheme }}">
      {{ snippet 'texture' color_scheme=color_scheme width="200" }}
      <div class=" richtext container g-4 g-md-6">
          {{#if title}}
              <h2 class="richtext__title title4 section-title">{{title}}</h2>
          {{/if}}
          <div class="richtext__container richtext__text{{text_align}}">
              <div class="richtext__content sl-richtext {{contentFontSize}} {{textwidthClass}}">{{{main_text}}}</div>

              {{#if button_text}}
                  {{assign 'link_item' (useLink jump_link)}}
                  <a class="btn btn-primary {{textwidthClass}} richtext__btn" {{{link_item.hrefAttr}}}>{{button_text}}</a>
              {{/if}}

              {{#each blocks}}
                  {{#if settings.big_fontsize }}
                      {{assign 'contentFontSize' 'body1'}}
                  {{else}}
                      {{assign 'contentFontSize' 'body3'}}
                  {{/if}}
                  {{#if type '===' 'textRow'}}
                      <div class="richtext__container__customtext sl-richtext {{contentFontSize}} {{../textwidthClass}}">{{{settings.main_text}}}</div>
                  {{/if}}

                  {{#if type '===' 'pageId'}}
                      <div class="richtext__container__custompage sl-richtext {{../textwidthClass}}" style="width: 100%;">
                          {{snippet 'custom-page-render' pageConfig=(get 'htmlConfig' (get settings.page_id ../pages)) }}
                      </div>
                  {{/if}}

              {{/each}}
          </div>
      </div>
  </div>
{{/if}}

{{#schema}}
{
  "name": {
    "zh-hans-cn": "富文本",
    "en": "Rich text",
    "id": "Teks kaya",
    "th": "เต็มไปด้วยข้อความ",
    "vi": "Văn bản phụ",
    "ms": "Teks kaya",
    "zh-hant-tw": "富文本"
  },
  "type": "rich-text",
  "max_blocks": 2,
  "blocks": [
    {
      "type": "textRow",
      "icon": "text",
      "name": {
        "zh-hans-cn": "文本段落",
        "en": "Paragraph",
        "id": "Bagian teks",
        "th": "ย่อหน้าและข้อความ",
        "vi": "Đoạn văn bản",
        "ms": "Perenggan teks",
        "zh-hant-tw": "文本段落"
      },
      "settings": [
        {
          "default": true,
          "id": "big_fontsize",
          "type": "switch",
          "label": {
            "zh-hans-cn": "放大文字",
            "en": "Magnify texts",
            "id": "Membesarkan teks",
            "th": "ขยายข้อความ",
            "vi": "Phóng to chữ",
            "ms": "Besarkan teks",
            "zh-hant-tw": "放大文字"
          }
        },
        {
          "id": "main_text",
          "type": "richtext",
          "label": {
            "zh-hans-cn": "正文",
            "en": "Body text",
            "id": "Teks",
            "th": "ข้อความ",
            "vi": "Nội dung chính",
            "ms": "Teks",
            "zh-hant-tw": "正文"
          },
          "default": "A sentence or two introducing your brand, what you sell, and what makes your brand compelling to customers."
        }
      ]
    },
    {
      "type": "pageId",
      "icon": "text",
      "name": {
        "zh-hans-cn": "自定义页面",
        "en": "Custom page",
        "id": "Halaman Kustom",
        "th": "หน้าเพจที่กำหนดเอง",
        "vi": "Trang tùy chỉnh",
        "ms": "Halaman tersuai",
        "zh-hant-tw": "自定義頁面"
      },
      "settings": [
        {
          "id": "page_id",
          "type": "page_picker",
          "label": {
            "zh-hans-cn": "自定义内容",
            "en": "Custom content",
            "id": "Isi khusus",
            "th": "เนื้อหาที่กำหนดเอง",
            "vi": "Nội dung tùy chỉnh",
            "ms": "Tetapan kandungan tersuai",
            "zh-hant-tw": "自定義內容"
          }
        }
      ]
    }
  ],
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": {
        "zh-hans-cn": "标题",
        "en": "Title",
        "id": "Judul",
        "th": "หัวข้อ",
        "vi": "Tiêu đề",
        "ms": "Tajuk",
        "zh-hant-tw": "標題"
      }
    },
    {
      "type": "richtext",
      "id": "main_text",
      "label": {
        "zh-hans-cn": "正文",
        "en": "Body text",
        "id": "Teks",
        "th": "ข้อความ",
        "vi": "Nội dung chính",
        "ms": "Teks",
        "zh-hant-tw": "正文"
      }
    },
    {
      "type": "text",
      "id": "button_text",
      "label": {
        "zh-hans-cn": "按钮文案",
        "en": "Button text",
        "id": "Tulisan tombol",
        "th": "ข้อความปุ่ม",
        "vi": "Nội dung nút",
        "ms": "Salinan butang",
        "zh-hant-tw": "按鈕文案"
      }
    },
    {
      "type": "url",
      "id": "jump_link",
      "label": {
        "zh-hans-cn": "跳转链接",
        "en": "URL",
        "id": "lompat link",
        "th": "ลิงก์กระโดดข้าม",
        "vi": "Link chuyển đổi",
        "ms": "Pautan lompat",
        "zh-hant-tw": "跳轉鏈接"
      }
    },
    {
      "type": "text_align",
      "id": "text_align",
      "label": {
        "zh-hans-cn": "文本对齐",
        "en": "Text alignment",
        "id": "Perataan teks",
        "th": "จัดแนวข้อความให้ตรงกัน",
        "vi": "Văn bản thẳng hàng",
        "ms": "Penjajaran teks",
        "zh-hant-tw": "文本對齊"
      }
    },
    {
      "type": "switch",
      "id": "normal_width",
      "label": {
        "zh-hans-cn": "使用标准列宽",
        "en": "Use the standard column width",
        "id": "Gunakan lebar kolom standar",
        "th": "ใช้ความกว้างคอลัมน์มาตรฐาน",
        "vi": "Sử dụng rộng cột tiêu chuẩn",
        "ms": "Guna lebar lajur standard",
        "zh-hant-tw": "使用標準列寬"
      }
    },
    {
      "type": "switch",
      "id": "big_fontsize",
      "label": {
        "zh-hans-cn": "放大文字",
        "en": "Magnify texts",
        "id": "Membesarkan teks",
        "th": "ขยายข้อความ",
        "vi": "Phóng to chữ",
        "ms": "Besarkan teks",
        "zh-hant-tw": "放大文字"
      }
    },
    {
      "type": "select",
      "id": "color_scheme",
      "default": "1",
      "label": {
        "zh-hans-cn": "颜色风格",
        "en": "Color scheme",
        "id": "Gaya warna",
        "th": "สไตล์สี",
        "vi": "Phong cách màu sắc",
        "ms": "Gaya warna",
        "zh-hant-tw": "顏色風格"
      },
      "options": [
        {
          "value": "none",
          "label": {
            "zh-hans-cn": "无",
            "en": "None",
            "id": "Tidak ada",
            "th": "ไม่มี",
            "vi": "Không",
            "ms": "Tiada",
            "zh-hant-tw": "無"
          }
        },
        {
          "value": "1",
          "label": {
            "zh-hans-cn": "风格1",
            "en": "Style 1",
            "id": "Gaya 1",
            "th": "สไตล์ 1",
            "vi": "Phong cách 1",
            "ms": "Gaya 1",
            "zh-hant-tw": "風格1"
          }
        },
        {
          "value": "2",
          "label": {
            "zh-hans-cn": "风格2",
            "en": "Style 2",
            "id": "Gaya 2",
            "th": "สไตล์2",
            "vi": "Phong cách 2",
            "ms": "Gaya 2",
            "zh-hant-tw": "風格2"
          }
        },
        {
          "value": "3",
          "label": {
            "zh-hans-cn": "风格3",
            "en": "Style 3",
            "id": "Gaya 3",
            "th": "สไตล์ 3",
            "vi": "Phong cách 3",
            "ms": "Gaya 3",
            "zh-hant-tw": "風格3"
          }
        }
      ]
    },
    {
      "type": "switch",
      "id": "show_divider",
      "label": {
        "zh-hans-cn": "显示模块分割线",
        "en": "Display divider",
        "id": "Tampilkan garis pemisah modul",
        "th": "แสดงเส้นแบ่งโมดูล",
        "vi": "Hiển thị đường phân cách mô đun",
        "ms": "Papar garis pembahagi modul",
        "zh-hant-tw": "顯示模塊分割線"
      }
    }
  ],
  "presets": [
    {
      "name": {
        "zh-hans-cn": "富文本",
        "en": "Rich text",
        "id": "Teks kaya",
        "th": "เต็มไปด้วยข้อความ",
        "vi": "Văn bản phụ",
        "ms": "Teks kaya",
        "zh-hant-tw": "富文本"
      },
      "category": {
        "zh-hans-cn": "内容展示",
        "en": "Content display",
        "id": "Tampilan Isi",
        "th": "การแสดงเนื้อหา",
        "vi": "Hiển thị nội dung",
        "ms": "Paparan kandungan",
        "zh-hant-tw": "內容展示"
      },
      "settings": {
        "title": "Rich text",
        "main_text": "A sentence or two introducing your brand, what you sell, and what makes your brand compelling to customers.",
        "text_align": "center",
        "jump_link": "",
        "normal_width": true,
        "big_fontsize": true,
        "color_scheme": "1",
        "show_divider": false
      }
    }
  ]
}
{{/schema}}