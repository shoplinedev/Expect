
{{!-- 传入参数：collectionData 分类列表数据 --}}
{{assign '_collections' (cond (isArray collectionData) collectionData (JSONparse '[]'))}}
{{!-- 传入参数：colNum 展示列数 --}}
{{assign '_col' (default colNum 6)}}

{{assign 'realImgWidth' (cond request.is_mobile 300 (divide 1200 _col))}}

{{assign 'mSizeNumber' (cond (is _col 6) 3 (cond (lt _col 3) 1 2)) }}

{{assign 'padSize' (append '1/' _col ) }}
{{assign 'imgsizes' (append '(max-width: 749px) 100vw * 1/' (cond (is _col 6) 3 (cond (lt _col 3) 1 2)) ',(min-width: 750) 100vw * 1/' _col )}}

{{assign 'item-class' (append 'row-cols-md-' _col)}}
{{#if (boolean _col '===' 6)}}
  {{assign 'item-class' (append 'row-cols-md-4' (append ' row-cols-xl-' _col)) }}
  {{assign 'padSize' '1/4'}}
  {{assign 'imgsizes' (append '(max-width: 749px) 100vw * 1/' (cond (is _col 6) 3 (cond (lt _col 3) 1 2)) ',(max-width: 1199px) 100vw * 1/4' ',(min-width: 1200px) 100vw * 1/' _col)}}
{{/if}}
{{#if (boolean _col '===' 5)}}
  {{assign 'item-class' (append 'row-cols-md-4' (append ' row-cols-lg-' _col))}}
  {{assign 'padSize' '1/4'}}
  {{assign 'imgsizes' (append '(max-width: 749px) 100vw * 1/' (cond (is _col 6) 3 (cond (lt _col 3) 1 2)) ',(max-width: 959px) 100vw * 1/4' ',(min-width: 960px) 100vw * 1/' _col)}}
{{/if}}

<div class="row g-4 row-cols-{{cond (is _col 6) 3 (cond (lt _col 3) 1 2)}} {{item-class}}">
  {{#each _collections}}
    {{snippet 'product/commons/collection-item' sizes=../imgsizes padSize=../padSize mSize=(append '1/' ../mSizeNumber) pcSize=(append '1/' ../_col) imgRealWidth=../_realImgWidth sortationData=this}}
  {{/each}}
</div>
